/////////////////////////////////////////////////////////////////////////////////
//// Time-stamp: <2018-05-15 13:33:33 (melify)>
/////////////////////////////////////////////////////////////////////////////////

// IF MODEL DOES NOT EXIST CREATE IT
var tkModel = tkModel || [];

////////////////////////////////////////////////////////////////////////////////////
//// DATA BINDING FUNCTION
////////////////////////////////////////////////////////////////////////////////////
function tkBind(id, callback) {
    console.group("tkBind", id);

    var watchable = DataBind.bind($('#' + id), tkModel);

    watchable.watch(callback);

    console.groupEnd();
};

////////////////////////////////////////////////////////////////////////////////////
//// DATA BINDING FUNCTION
////////////////////////////////////////////////////////////////////////////////////
function tkBinder(ev) {
    console.group("tkBinder");

    console.log(this.id, ev.type, ev.data.newValue);

    // CUSTOM CHANGE HANDLING EXAMPLE
    var type = $("#" + this.id).prop('nodeName');

    switch(type) 
    {
	case "SELECT":
	$("#" + this.id).val(ev.data.newValue).change();
	break;
    }

    console.groupEnd();
}

